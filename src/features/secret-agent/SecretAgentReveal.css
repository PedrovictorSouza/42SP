.secret-agent-reveal {
  position: relative;
  overflow: hidden;
}

.secret-agent-content {
  position: relative;
  z-index: 2;
  color: rgb(5, 178, 193);
  filter: contrast(1.2) brightness(1.1);
  word-spacing: normal;
}

/* Letter-spacing contract:
   - Tracking (letter-spacing) for headings is controlled ONLY by .special-gothic-heading-*.
   - Do NOT override letter-spacing in component-specific selectors (like .secret-agent-content ...).
   - .secret-char inherits letter-spacing from parent elements via CSS inheritance.
   - The parent element with .special-gothic-heading-* applies letter-spacing, and .secret-char inherits it.
*/
.secret-char {
  opacity: 0;
  display: inline-block;
  transition: opacity 0.1s ease-in;
  letter-spacing: inherit;
  word-spacing: normal;
}

.secret-word {
  display: inline-block;
  white-space: nowrap;
  letter-spacing: inherit;
}

/* Ensure parent elements with special-gothic-heading classes maintain their letter-spacing */
.secret-agent-content .special-gothic-heading-primary,
.secret-agent-content .special-gothic-heading-secondary {
  letter-spacing: inherit;
}

.secret-char.revealed {
  opacity: 1;
  color: rgb(5, 178, 193);
  text-shadow: 
    0 0 3px rgb(5, 178, 193),
    0 0 6px rgb(5, 178, 193);
}

.secret-agent-reveal.complete .secret-char {
  opacity: 1;
}

.secret-agent-scanner {
  position: absolute;
  width: 2px;
  background: rgba(5, 178, 193, 0.9);
  box-shadow: 
    0 0 5px rgb(5, 178, 193),
    0 0 10px rgb(5, 178, 193),
    inset 0 0 3px rgb(5, 178, 193);
  z-index: 3;
  pointer-events: none;
  will-change: left, top, height;
  transition: left 0.05s ease-out, top 0.05s ease-out, height 0.05s ease-out;
}

.secret-agent-reveal.revealing .secret-agent-scanner {
  animation: scanGlow 0.1s ease-in-out infinite;
}

.secret-agent-reveal.complete .secret-agent-scanner {
  animation: blinkComplete 0.5s ease-in-out infinite;
}

@keyframes scanGlow {
  0%, 100% {
    box-shadow: 
      0 0 10px rgb(5, 178, 193),
      0 0 20px rgb(5, 178, 193),
      0 0 30px rgb(5, 178, 193),
      inset 0 0 10px rgb(5, 178, 193);
  }
  50% {
    box-shadow: 
      0 0 15px rgb(5, 178, 193),
      0 0 30px rgb(5, 178, 193),
      0 0 45px rgb(5, 178, 193),
      inset 0 0 15px rgb(5, 178, 193);
  }
}

@keyframes blinkComplete {
  0%, 100% {
    opacity: 1;
    box-shadow: 
      0 0 10px rgb(5, 178, 193),
      0 0 20px rgb(5, 178, 193),
      0 0 30px rgb(5, 178, 193),
      inset 0 0 10px rgb(5, 178, 193);
  }
  50% {
    opacity: 0.3;
    box-shadow: 
      0 0 5px rgb(5, 178, 193),
      0 0 10px rgb(5, 178, 193),
      0 0 15px rgb(5, 178, 193),
      inset 0 0 5px rgb(5, 178, 193);
  }
}

.secret-agent-content * {
  color: rgb(5, 178, 193);
}

.secret-agent-content h2,
.secret-agent-content h3,
.secret-agent-content .diagnostico-title,
.secret-agent-content .diagnostico-section-title {
  text-shadow: 
    0 0 2px rgb(5, 178, 193),
    0 0 4px rgb(5, 178, 193);
}

.secret-agent-content .diagnostico-item-title,
.secret-agent-content .diagnostico-item-description,
.secret-agent-content p,
.secret-agent-content div {
  text-shadow: 
    0 0 3px rgb(5, 178, 193),
    0 0 6px rgb(5, 178, 193);
}


.secret-agent-content *::selection {
  background: rgba(5, 178, 193, 0.3);
  color: rgb(5, 178, 193);
}
